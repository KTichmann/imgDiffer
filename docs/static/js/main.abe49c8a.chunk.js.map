{"version":3,"sources":["functions/compareImages.js","components/Home.js","functions/makeCanvasFromBuffer.js","components/Comparison.js","components/Url.js","components/App.js","serviceWorker.js","index.js"],"names":["compareImages","formData","console","log","fetch","method","body","then","response","json","imgOneHeight","data","comparisonOne","height","imgOneWidth","width","imgOneBuffer","imgTwoHeight","comparisonTwo","imgTwoWidth","imgTwoBuffer","catch","error","useStyles","makeStyles","theme","progress","margin","color","Home","props","classes","_useState","useState","_useState2","Object","slicedToArray","files","updateFiles","_useState3","_useState4","imgData","updateImgData","_useState5","_useState6","loading","updateLoading","FormData","append","react_default","a","createElement","style","index_es","onChange","fileArr","acceptedFiles","filesLimit","dropzoneText","showPreviews","showPreviewsInDropzone","showAlerts","dropZoneClass","Button","onClick","result","document","getElementById","click","variant","marginTop","disabled","length","CircularProgress","disableShrink","className","react_router_dom","id","to","pathname","state","makeCanvasFromBuffer","buffer","canvas","ctx","getContext","createImageData","set","putImageData","Comparison","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","location","canvasOne","canvasTwo","scrollIntoView","fontWeight","React","Component","Url","urlOne","updateUrlOne","urlTwo","updateUrlTwo","imgBufferOne","updateImgBufferOne","_useState7","_useState8","imgBufferTwo","updateImgBufferTwo","_useState9","_useState10","_useState11","_useState12","_useState13","_useState14","imgOneLoading","updateImgOneLoading","_useState15","_useState16","imgTwoLoading","updateImgTwoLoading","handleUrlSubmit","num","headers","Content-Type","concat","innerHTML","_handleCompare","asyncToGenerator","regenerator_default","mark","_callee","imgOne","imgTwo","wrap","_context","prev","next","getImg","sent","stop","apply","arguments","getBlobFromCanvas","Promise","resolve","reject","toBlob","blob","_x","_getImg","_callee2","selector","file","_context2","querySelector","File","abrupt","padding","backgroundColor","borderRadius","display","flexDirection","noValidate","autoComplete","justifyContent","TextField","label","marginRight","value","e","target","App","position","left","top","textDecoration","fontSize","react_router","exact","path","component","Boolean","window","hostname","match","ReactDOM","render","basename","components_App","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.abe49c8a.chunk.js","sourcesContent":["function compareImages(formData) {\r\n\tconsole.log(\"formData: \", formData);\r\n\treturn fetch(\"https://ktich-imgdiff.herokuapp.com/compare\", {\r\n\t\tmethod: \"POST\",\r\n\t\tbody: formData\r\n\t})\r\n\t\t.then(response => response.json())\r\n\t\t.then(response => {\r\n\t\t\tlet imgOneHeight = response.data.comparisonOne.height;\r\n\t\t\tlet imgOneWidth = response.data.comparisonOne.width;\r\n\t\t\tlet imgOneBuffer = response.data.comparisonOne.data.data;\r\n\r\n\t\t\tlet imgTwoHeight = response.data.comparisonTwo.height;\r\n\t\t\tlet imgTwoWidth = response.data.comparisonTwo.width;\r\n\t\t\tlet imgTwoBuffer = response.data.comparisonTwo.data.data;\r\n\r\n\t\t\treturn {\r\n\t\t\t\timgOneHeight,\r\n\t\t\t\timgOneWidth,\r\n\t\t\t\timgOneBuffer,\r\n\t\t\t\timgTwoHeight,\r\n\t\t\t\timgTwoBuffer,\r\n\t\t\t\timgTwoWidth\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch(error => console.log(error));\r\n}\r\n\r\nexport default compareImages;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { DropzoneArea } from \"material-ui-dropzone\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport compareImages from \"../functions/compareImages\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tprogress: {\r\n\t\twidth: \"15px !important\",\r\n\t\theight: \"15px !important\",\r\n\t\tmargin: \"8px !important\",\r\n\t\tcolor: \"white\"\r\n\t}\r\n}));\r\n\r\nfunction Home(props) {\r\n\tconst classes = useStyles();\r\n\tconst [files, updateFiles] = useState([]);\r\n\tconst [imgData, updateImgData] = useState({});\r\n\tconst [loading, updateLoading] = useState(false);\r\n\r\n\tconst formData = new FormData();\r\n\tformData.append(\"imgOne\", files[0]);\r\n\tformData.append(\"imgTwo\", files[1]);\r\n\tfunction handleSubmit() {\r\n\t\tupdateLoading(true);\r\n\t\tcompareImages(formData)\r\n\t\t\t.then(result => {\r\n\t\t\t\tupdateImgData(result);\r\n\t\t\t\tdocument.getElementById(\"redirect_to_comparison\").click();\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div style={{ width: \"80%\" }}>\r\n\t\t\t<DropzoneArea\r\n\t\t\t\tonChange={fileArr => updateFiles(fileArr)}\r\n\t\t\t\tacceptedFiles={[\"image/png\"]}\r\n\t\t\t\tfilesLimit={2}\r\n\t\t\t\tdropzoneText='Drag and drop two png files here to compare'\r\n\t\t\t\tshowPreviews\r\n\t\t\t\tshowPreviewsInDropzone={false}\r\n\t\t\t\tshowAlerts\r\n\t\t\t\tdropZoneClass='imgDropZone'\r\n\t\t\t/>\r\n\t\t\t<Button\r\n\t\t\t\tonClick={loading ? false : handleSubmit}\r\n\t\t\t\tvariant='contained'\r\n\t\t\t\tcolor='primary'\r\n\t\t\t\tstyle={{ marginTop: \"4rem\", width: \"105px\", height: \"45px\" }}\r\n\t\t\t\tdisabled={files.length === 2 ? false : true}>\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<CircularProgress disableShrink className={classes.progress} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t\"Compare\"\r\n\t\t\t\t)}\r\n\t\t\t</Button>\r\n\t\t\t<Link\r\n\t\t\t\tid='redirect_to_comparison'\r\n\t\t\t\tto={{\r\n\t\t\t\t\tpathname: \"/comparison\",\r\n\t\t\t\t\tstate: {\r\n\t\t\t\t\t\timgData\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default Home;\r\n","function makeCanvasFromBuffer(height, width, buffer) {\r\n  let canvas = document.createElement(\"canvas\"),\r\n    ctx = canvas.getContext(\"2d\");\r\n\r\n  canvas.height = height;\r\n  canvas.width = width;\r\n  let imgData = ctx.createImageData(width, height);\r\n  imgData.data.set(buffer);\r\n  ctx.putImageData(imgData, 0, 0);\r\n  return canvas;\r\n}\r\n\r\nexport default makeCanvasFromBuffer;\r\n","import React from \"react\";\r\nimport makeCanvasFromBuffer from \"../functions/makeCanvasFromBuffer\";\r\n\r\nclass Comparison extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.makeCanvasFromBuffer = makeCanvasFromBuffer;\r\n\t}\r\n\tcomponentDidMount() {\r\n\t\tconst imgData = this.props.location.state.imgData;\r\n\t\tconsole.log(imgData);\r\n\t\tconst canvasOne = this.makeCanvasFromBuffer(\r\n\t\t\timgData.imgOneHeight,\r\n\t\t\timgData.imgOneWidth,\r\n\t\t\timgData.imgOneBuffer\r\n\t\t);\r\n\t\tdocument.getElementById(\"imgComparisonOne\").append(canvasOne);\r\n\r\n\t\tconst canvasTwo = this.makeCanvasFromBuffer(\r\n\t\t\timgData.imgTwoHeight,\r\n\t\t\timgData.imgTwoWidth,\r\n\t\t\timgData.imgTwoBuffer\r\n\t\t);\r\n\t\tdocument.getElementById(\"imgComparisonTwo\").append(canvasTwo);\r\n\t\tdocument.getElementById(\"imgComparisonOne\").scrollIntoView();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<h1 style={{ fontWeight: \"300\" }}>Image Comparison</h1>\r\n\t\t\t\t<div id='imgComparisonTwo' />\r\n\t\t\t\t<div id='imgComparisonOne' />\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Comparison;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport compareImages from \"../functions/compareImages\";\r\nimport makeCanvasFromBuffer from \"../functions/makeCanvasFromBuffer\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tprogress: {\r\n\t\twidth: \"15px !important\",\r\n\t\theight: \"15px !important\",\r\n\t\tmargin: \"8px !important\",\r\n\t\tcolor: \"white\"\r\n\t}\r\n}));\r\n\r\nconst Url = () => {\r\n\tconst classes = useStyles();\r\n\tconst [urlOne, updateUrlOne] = useState(\"\");\r\n\tconst [urlTwo, updateUrlTwo] = useState(\"\");\r\n\tconst [imgBufferOne, updateImgBufferOne] = useState(false);\r\n\tconst [imgBufferTwo, updateImgBufferTwo] = useState(false);\r\n\tconst [imgData, updateImgData] = useState(false);\r\n\tconst [loading, updateLoading] = useState(false);\r\n\tconst [imgOneLoading, updateImgOneLoading] = useState(false);\r\n\tconst [imgTwoLoading, updateImgTwoLoading] = useState(false);\r\n\r\n\tconst handleUrlSubmit = num => {\r\n\t\tnum === 1 ? updateImgOneLoading(true) : updateImgTwoLoading(true);\r\n\r\n\t\tconsole.log(\"request sent: \", num);\r\n\t\tconst url = num === 1 ? urlOne : urlTwo;\r\n\t\tfetch(\"https://ktich-imgdiff.herokuapp.com/siteToImg\", {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\"\r\n\t\t\t},\r\n\t\t\tbody: `url=${url}`\r\n\t\t})\r\n\t\t\t.then(result => result.json())\r\n\t\t\t.then(result => {\r\n\t\t\t\tnum === 1\r\n\t\t\t\t\t? updateImgBufferOne(result.data)\r\n\t\t\t\t\t: updateImgBufferTwo(result.data);\r\n\t\t\t\tconst canvas = makeCanvasFromBuffer(\r\n\t\t\t\t\tresult.data.height,\r\n\t\t\t\t\tresult.data.width,\r\n\t\t\t\t\tresult.data.data.data\r\n\t\t\t\t);\r\n\t\t\t\tif (num === 1) {\r\n\t\t\t\t\tdocument.getElementById(\"screenshotOne\").innerHTML = \"\";\r\n\t\t\t\t\tdocument.getElementById(\"screenshotOne\").append(canvas);\r\n\t\t\t\t\tupdateImgOneLoading(false);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdocument.getElementById(\"screenshotTwo\").innerHTML = \"\";\r\n\t\t\t\t\tdocument.getElementById(\"screenshotTwo\").append(canvas);\r\n\t\t\t\t\tupdateImgTwoLoading(false);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(error => console.log(error));\r\n\t};\r\n\r\n\tasync function handleCompare() {\r\n\t\tupdateLoading(true);\r\n\t\tconst formData = new FormData();\r\n\t\tconst imgOne = await getImg(\"#screenshotOne > canvas\");\r\n\t\tconst imgTwo = await getImg(\"#screenshotTwo > canvas\");\r\n\t\tformData.append(\"imgOne\", imgOne);\r\n\t\tformData.append(\"imgTwo\", imgTwo);\r\n\t\tcompareImages(formData)\r\n\t\t\t.then(result => {\r\n\t\t\t\tupdateImgData(result);\r\n\t\t\t\tdocument.getElementById(\"redirect_to_comparison\").click();\r\n\t\t\t})\r\n\t\t\t.catch(error => console.log(error));\r\n\t}\r\n\r\n\tfunction getBlobFromCanvas(canvas) {\r\n\t\treturn new Promise(function(resolve, reject) {\r\n\t\t\tcanvas.toBlob(function(blob) {\r\n\t\t\t\tresolve(blob);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tasync function getImg(selector) {\r\n\t\tconst blob = await getBlobFromCanvas(document.querySelector(selector));\r\n\t\tconst file = new File([blob], `${selector}`, blob);\r\n\t\treturn file;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<form\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tpadding: \"2rem\",\r\n\t\t\t\t\tbackgroundColor: \"rgba(255,255,255, .8)\",\r\n\t\t\t\t\tborderRadius: 5,\r\n\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\tflexDirection: \"column\"\r\n\t\t\t\t}}\r\n\t\t\t\tnoValidate\r\n\t\t\t\tautoComplete='off'>\r\n\t\t\t\t<div style={{ display: \"flex\", justifyContent: \"space-around\" }}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tid='urlOne'\r\n\t\t\t\t\t\tlabel='Url One'\r\n\t\t\t\t\t\tstyle={{ marginRight: \"3rem\" }}\r\n\t\t\t\t\t\tvalue={urlOne}\r\n\t\t\t\t\t\tonChange={e => updateUrlOne(e.target.value)}\r\n\t\t\t\t\t\tmargin='normal'\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tid='urlOne'\r\n\t\t\t\t\t\tlabel='Url Two'\r\n\t\t\t\t\t\tvalue={urlTwo}\r\n\t\t\t\t\t\tonChange={e => updateUrlTwo(e.target.value)}\r\n\t\t\t\t\t\tmargin='normal'\r\n\t\t\t\t\t\tvariant='outlined'\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\tjustifyContent: \"space-around\",\r\n\t\t\t\t\t\tmarginTop: \"1rem\"\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tonClick={() => handleUrlSubmit(1)}\r\n\t\t\t\t\t\tstyle={{ width: \"150px\", height: \"45px\" }}>\r\n\t\t\t\t\t\t{imgOneLoading ? (\r\n\t\t\t\t\t\t\t<CircularProgress disableShrink className={classes.progress} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\"Get Img One\"\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tonClick={() => handleUrlSubmit(2)}\r\n\t\t\t\t\t\tstyle={{ width: \"150px\", height: \"45px\" }}>\r\n\t\t\t\t\t\t{imgTwoLoading ? (\r\n\t\t\t\t\t\t\t<CircularProgress disableShrink className={classes.progress} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\"Get Img Two\"\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t<div>\r\n\t\t\t\t{imgBufferOne && imgBufferTwo ? (\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tonClick={loading ? false : handleCompare}\r\n\t\t\t\t\t\tvariant='contained'\r\n\t\t\t\t\t\tcolor='primary'\r\n\t\t\t\t\t\tstyle={{ marginTop: \"4rem\", width: \"105px\", height: \"45px\" }}>\r\n\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t<CircularProgress disableShrink className={classes.progress} />\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\"Compare\"\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t) : (\r\n\t\t\t\t\tfalse\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t\t<div style={{ display: \"flex\", marginTop: \"3rem\" }}>\r\n\t\t\t\t<div id='screenshotOne' />\r\n\t\t\t\t<div id='screenshotTwo' />\r\n\t\t\t</div>\r\n\t\t\t<Link\r\n\t\t\t\tid='redirect_to_comparison'\r\n\t\t\t\tto={{\r\n\t\t\t\t\tpathname: \"/comparison\",\r\n\t\t\t\t\tstate: {\r\n\t\t\t\t\t\timgData\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Url;\r\n","import React, { useState } from \"react\";\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Home from \"./Home\";\r\nimport Comparison from \"./Comparison\";\r\nimport Url from \"./Url\";\r\n\r\nimport \"../styles/App.css\";\r\n\r\nconst App = () => (\r\n\t<div className='App'>\r\n\t\t<div className='App-header'>\r\n\t\t\t<nav\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\twidth: \"40%\",\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tjustifyContent: \"space-around\",\r\n\t\t\t\t\tleft: \"0px\",\r\n\t\t\t\t\ttop: \"0px\",\r\n\t\t\t\t\tpadding: \"10px 15px\"\r\n\t\t\t\t}}>\r\n\t\t\t\t<Link\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tcolor: \"white\",\r\n\t\t\t\t\t\ttextDecoration: \"none\",\r\n\t\t\t\t\t\tfontSize: \"1.3rem\"\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tto='/'>\r\n\t\t\t\t\tCompare From Files\r\n\t\t\t\t</Link>\r\n\t\t\t\t<div style={{ marginTop: \"-10px\" }}>|</div>\r\n\t\t\t\t<Link\r\n\t\t\t\t\tstyle={{ color: \"white\", textDecoration: \"none\", fontSize: \"1.3rem\" }}\r\n\t\t\t\t\tto='/url'>\r\n\t\t\t\t\tCompare From Urls\r\n\t\t\t\t</Link>\r\n\t\t\t</nav>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route exact path='/' component={Home} />\r\n\t\t\t\t<Route path='/comparison' component={Comparison} />\r\n\t\t\t\t<Route path='/url' component={Url} />\r\n\t\t\t</Switch>\r\n\t\t</div>\r\n\t</div>\r\n);\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles/index.css\";\nimport App from \"./components/App\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n\t<BrowserRouter basename={\"/imgDiffer\"}>\n\t\t<App />\n\t</BrowserRouter>,\n\tdocument.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}